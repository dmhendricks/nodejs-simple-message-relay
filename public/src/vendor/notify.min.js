!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var o=window.Noist||{};(o=function(){var o=0;return function(e){var i=this;i.defaults={position:"bottom left",showEffect:"fadeIn",hideEffect:"fadeOut",closeEffect:"fadeOut",limit:0,stopOnLimit:!1,duration:800,close:!0,closeHtml:'<a href="http://#close" id="{close_selector}" class="noist-close" title="close" role="button"></a>',closeId:"#noist-close",delay:6e3,insert:"auto",class:"",template:function(){}},i.length=o++,i.option=t.extend({},i.defaults,e),i.pos={top:!1,bottom:!0,left:!0,right:!1},i.init(),i.$el}}()).prototype.position=function(o,e){var i=this;e?(t.each(i.pos,function(t){i.pos[t]=o===t||e===t}),i.positionClass="noist-"+o+" noist-"+e):i.positionClass=o},o.prototype.init=function(){var o=this;if("string"==typeof o.option.position)switch(""===o.option.position&&(o.option.position="bottom left"),t.trim(o.option.position).replace(/ +(?= )/g,"")){case"top left":case"left top":case"top-left":case"left-top":o.position("top","left");break;case"top right":case"right top":case"top-right":case"right-top":o.position("top","right");break;case"bottom left":case"left bottom":case"bottom-left":case"left-bottom":o.position("bottom","left");break;case"bottom right":case"right bottom":case"bottom-right":case"right-bottom":o.position("bottom","right");break;default:o.position(t.trim(o.option.position).replace(/ +(?= )/g,""))}o.elClass=".noist."+o.positionClass.split(" ").join(".");var e="";if(t.trim(o.option.class).replace(/ +(?= )/g,"")&&(e+=" "+t.trim(o.option.class).replace(/ +(?= )/g,"").split(" ").join(".")),0===t("body>"+o.elClass).length){var i=t('<div class="noist'+e.split(".").join(" ")+'"></div>');i.addClass(o.positionClass),i.appendTo("body"),o.$el=t("body>"+o.elClass)}else t("body>"+o.elClass).addClass(e.split(".").join(" "))},o.prototype.hide=function(o,e,i,n){var s=this;0!==o.length&&(n||(n=s.duration),"function"==typeof s.beforeHide&&s.beforeHide.call(s,i),s.beforeHide=null,o.height(o.height()),o.css({"-webkit-animation-duration":n+"ms","-moz-animation-duration":n+"ms","-ms-animation-duration":n+"ms","-o-animation-duration":n+"ms","animation-duration":n+"ms"}),o.dequeue(),o.removeClass(s.option.showEffect).addClass(e).delay(n-200).queue(function(){t(this).dequeue(),t(this).addClass("noist-invisible"),t(this).css("height",0),t(this).remove(),t(this).delay(300).queue(function(){t(this).dequeue(),t(this).remove(0),"function"==typeof s.afterHide&&s.afterHide.call(s,i),s.afterHide=null})}))},o.prototype.message=function(o,e,i){var n,s=this;if(s.duration=parseInt(s.option.duration,10)>=500?parseInt(s.option.duration,10):500,0!==parseInt(s.option.limit,10)){var a=parseInt(s.option.limit,10);if(t(s.elClass+" >.noist").length>=a){if("function"==typeof s.onLimit&&s.onLimit.call(s),s.onLimit=null,!0===s.option.stopOnLimit)return;var l=s.elClass+" >.noist";"above"===s.inserted&&(l=t(s.elClass+" >.noist").get().reverse()),t(l).each(function(o,e){o>a-2&&t(this).remove()})}}switch(t.trim(e)){case"success":case"error":case"warning":case"info":case"white":case"transparent":n="noist-"+e;break;case null:case!0:case!1:case"":n="noist-default";break;default:n="noist-"+e}var r=""!==s.option.closeId?s.option.closeId.replace("#",""):"noist-close",p=!1!==s.option.close?s.option.closeHtml.replace("{close_selector}",r):"";"transparent"===t.trim(e)&&(p=""),s.wrap=!0;var c="function"==typeof s.option.template?s.option.template.call(s,o):"",d=" "+(i=t.trim(i).replace(/ +(?= )/g,"")),f="",u="";switch(i){case"embed fluid":case"fluid embed":case"embed-fluid":case"fluid-embed":d=" noist-embed noist-fluid";break;case"embed":d="",f='<div class="noist-embed">',u="</div>";break;case"fluid":d=" noist-fluid"}var m=t('<div class="noist '+n+'">'+p+("string"==typeof c?!0===s.wrap?'<div class="noist-body'+d+'">'+f+c+u+"</div>":f+c+u:'<div class="noist-body'+d+'">'+f+o+u+"</div>")+"</div>");"function"==typeof s.beforeShow&&s.beforeShow.call(s,o),s.beforeShow=null,!0===s.pos.top&&"auto"===s.option.insert||"append"===s.option.insert?(t(s.elClass).append(m),s.inserted="above"):(!0===s.pos.bottom&&"auto"===s.option.insert||s.option.insert,t(s.elClass).prepend(m),s.inserted="under"),m.css({"-webkit-animation-duration":s.duration+"ms","-moz-animation-duration":s.duration+"ms","-ms-animation-duration":s.duration+"ms","-o-animation-duration":s.duration+"ms","animation-duration":s.duration+"ms"}),m.addClass(s.option.showEffect).delay(parseInt(s.option.delay,10)).queue(function(){t(this).dequeue(),0!==parseInt(s.option.delay,10)&&s.hide(t(this),s.option.hideEffect,o)}),"function"==typeof s.afterShow&&s.afterShow.call(s,o),s.afterShow=null,m.on("mouseenter",function(t){"function"==typeof s.onHover&&s.onHover.call(s,o)}),m.on("click","#"+r.replace("#",""),function(e){e.preventDefault(),"function"==typeof s.beforeClose&&s.beforeClose.call(s,o),s.beforeClose=null,s.hide(t(this).closest(".noist"),s.option.closeEffect)})},o.prototype.clear=function(){var o=this;return"function"==typeof o.onClear&&o.onClear.call(o),o.onClear=null,t(o.elClass+" >.noist").remove(),o},o.prototype.options=function(o,e){var i=this;"object"==typeof o&&(i.option=t.extend({},i.option,o)),"string"==typeof o&&void 0!==i.option[o]&&void 0!==e&&(i.option[o]=e)},o.prototype.destroy=function(t){},t.noist=function(){var t=arguments[0];return new o(t)}});